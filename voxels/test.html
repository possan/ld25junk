<html>
<head>

<script src="voxel.js"></script>

<script>

	function init(){
		var ael = document.getElementById('a');
		var actx = ael.getContext('2d');

		var rot = 0;

		var voxler = new VoxelRenderer();

		var t = 0;

		var model = voxler.loadModel('santa.gif', 7, 10, 3, 10);
		var model2 = voxler.loadModel('reindeer.gif', 10, 8, 3, 10);
		var model3 = voxler.loadModel('missile.gif', 8, 3, 3, 10);

		function update() {

			actx.fillStyle = '#000';
			actx.fillRect(0, 0, 800, 500);

			voxler.model(actx, 600, 350, 10 + 1 * Math.sin(t), rot*4, model);
			voxler.model(actx, 200, 350, 10 + 1 * Math.sin(t+93), rot*5, model2);
			voxler.model(actx, 400, 150, 10 + 1 * Math.sin(t+20), rot*3, model3);

			rot += 1;
			t += 1.0 / 60.0;

			window.requestAnimationFrame(update);
		}

		window.requestAnimationFrame(update);
	}

</script>

</head>
<body onload="init()">
	<canvas id="a" width="800" height="500"></canvas>
</body>
</html>